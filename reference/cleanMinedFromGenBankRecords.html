<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is a convenient function that allows cleaning duplicate BOLD records that
were mined from the NCBI but multiple times and thus have a different processID.
In those cases, the accession numbers those records reports will be the same,
thus the original NCBI record is searched using different utils functions listed
in utils_helpers.R to search those records and check the length of the original
CDS/rRNA.
Create, from the records object, a new table that includes two new columns
one corresponding to the combination of processID and gene name that is also
supplied to this function as accn, and another with the corresponding accession
number. The latter is created using the coalesce function of dplyr which allows
to merge two vectors, in this case columns of a table, replacing the NA items
with the corresponding value, if present, in the other column. Important to
remember that coalesce works giving preference to the first vector supplied,
thus if both columns present the value the one coming from the column
NCBI_ID will be used instead of the other. This allows to recover all
those accession numbers that are not present in the correct field of the record
mined from Genbank but instead in the sampleID field.
The lengthGene field is quickly calculated using the sequences supplied to the
function. Moreover, some records on BOLD have no sequence associated. Those
will be removed beforehand."><title>Clean duplicate BOLD records that were mined from the NCBI multiple times — cleanMinedFromGenBankRecords • barcodeMineR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Clean duplicate BOLD records that were mined from the NCBI multiple times — cleanMinedFromGenBankRecords"><meta property="og:description" content="This is a convenient function that allows cleaning duplicate BOLD records that
were mined from the NCBI but multiple times and thus have a different processID.
In those cases, the accession numbers those records reports will be the same,
thus the original NCBI record is searched using different utils functions listed
in utils_helpers.R to search those records and check the length of the original
CDS/rRNA.
Create, from the records object, a new table that includes two new columns
one corresponding to the combination of processID and gene name that is also
supplied to this function as accn, and another with the corresponding accession
number. The latter is created using the coalesce function of dplyr which allows
to merge two vectors, in this case columns of a table, replacing the NA items
with the corresponding value, if present, in the other column. Important to
remember that coalesce works giving preference to the first vector supplied,
thus if both columns present the value the one coming from the column
NCBI_ID will be used instead of the other. This allows to recover all
those accession numbers that are not present in the correct field of the record
mined from Genbank but instead in the sampleID field.
The lengthGene field is quickly calculated using the sequences supplied to the
function. Moreover, some records on BOLD have no sequence associated. Those
will be removed beforehand."><meta property="og:image" content="https://matteoce.github.io/barcodeMineR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">barcodeMineR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/api_rate_barcodeMineR.html">Speeding up the recovery of DNA barcodes</a>
    <a class="dropdown-item" href="../articles/intro_barcodeMineR.html">Introduction to the barcodeMineR package</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MatteoCe/barcodeMineR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Clean duplicate BOLD records that were mined from the NCBI multiple times</h1>
      <small class="dont-index">Source: <a href="https://github.com/MatteoCe/barcodeMineR/blob/HEAD/R/cleaners.R" class="external-link"><code>R/cleaners.R</code></a></small>
      <div class="d-none name"><code>cleanMinedFromGenBankRecords.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a convenient function that allows cleaning duplicate BOLD records that
were mined from the NCBI but multiple times and thus have a different processID.
In those cases, the accession numbers those records reports will be the same,
thus the original NCBI record is searched using different utils functions listed
in utils_helpers.R to search those records and check the length of the original
CDS/rRNA.</p>
<p>Create, from the records object, a new table that includes two new columns
one corresponding to the combination of processID and gene name that is also
supplied to this function as accn, and another with the corresponding accession
number. The latter is created using the coalesce function of dplyr which allows
to merge two vectors, in this case columns of a table, replacing the NA items
with the corresponding value, if present, in the other column. Important to
remember that coalesce works giving preference to the first vector supplied,
thus if both columns present the value the one coming from the column
NCBI_ID will be used instead of the other. This allows to recover all
those accession numbers that are not present in the correct field of the record
mined from Genbank but instead in the sampleID field.
The lengthGene field is quickly calculated using the sequences supplied to the
function. Moreover, some records on BOLD have no sequence associated. Those
will be removed beforehand.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cleanMinedFromGenBankRecords</span><span class="op">(</span><span class="va">records</span>, <span class="va">sequences</span>, <span class="va">accn</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>records</dt>
<dd><p>data.frame the output of bold fetcher format</p></dd>


<dt>sequences</dt>
<dd><p>DNAStringSet the sequences corresponding to the records table, but in DNAStringSet format</p></dd>


<dt>names</dt>
<dd><p>character a vector of processID and corresponding marker codes as selected prevously by the user</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>character the same as parameter name, but including the correct mined record</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

